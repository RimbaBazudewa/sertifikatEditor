<!DOCTYPE html>
<html>

<head>
    <title>Editor Sertifikat</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script type="text/javascript" src="./js/fabric.min.js"></script>
    <script src="./js/editor.js"></script>
    <!-- <script type="text/javascript" src="./js/jspdf.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js"
        integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/"
        crossorigin="anonymous"></script>
</head>

<body style="overflow: hidden;">
    <div class="m-0 p-0">
        <div class="row">
            <div class="col-2 " style="background-color: rgb(178, 178, 192); height: 100vh;">
                <div class="d-flex flex-column mt-5 ml-2">
                    <button class="btn btn-success mb-2" id="add-text">Add text</button>
                    <button class="btn btn-success mb-2" id="add-image-barcode">Add image barcode</button>
                    <label for="" class="mt-5">Child Object</label>
                    <div id="child-object" class="overflow-auto  d-flex flex-column "
                        style="height:50vh;overflow-x: hidden  !important;">

                        <div class="btn-group mb-2" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-success">Object 1</button>
                            <button type="button" class="btn btn-danger ">x</button>
                        </div>
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-secondary">Object 2</button>
                            <button type="button" class="btn btn-danger d-none">x</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-8" style="background-color: rgb(255, 255, 255); height: 100vh;">
                <div class="d-flex justify-content-center mt-5 ">
                    <canvas class="mx-auto" id="editor-canvas" width="600" height="500"
                        style="border:2px solid #000000;">
                    </canvas>

                </div>
            </div>
            <div class="col-2" style="background-color: rgb(170, 168, 172);  height: 100vh;">
                <div class="d-flex flex-column mt-5 mr-2">

                    <div class="d-flex justify-content-between">
                        <button class="btn btn-success btn-sm mb-2" id="save">Save</button>
                        <a class="btn btn-success btn-sm mb-2" href="#" id="download">Download</a>
                    </div>

                    <label for="">Sertifikat Setting</label>
                    <div class="form-group">
                        <label for="">Canvas Size</label>
                        <select name="" id="" class="form-control">
                            <option selected value="">A4</option>
                        </select>

                    </div>
                    <div class="form-group">
                        <label for="">Background Image</label>
                        <select name="" id="background-image" class="form-control">
                            <option selected value="./assets/image/imageA4.jpg">Template 1</option>
                            <option value="./assets/image/imageA42.jpg">Template 2</option>

                        </select>

                    </div>

                    <label for="">Component</label>
                    <div id="component-image" class="overflow-auto "
                        style="height:50vh;overflow-x: hidden  !important;">


                        <div class="d-flex flex-column">
                            <div class="form-group ">
                                <label for="">Name: </label>
                                <input type="text" name="" id="image-name" class="form-control">
                            </div>


                            <div class="form-group ">
                                <label for="">Position: </label>

                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">X</div>
                                    </div>
                                    <input type="number" class="form-control" id="image-position-x" placeholder="x">
                                </div>
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">Y</div>
                                    </div>
                                    <input type="number" class="form-control" id="image-position-y" placeholder="y">
                                </div>

                            </div>
                            <div class="form-group ">
                                <label for="">Scale: </label>

                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">x</div>
                                    </div>
                                    <input type="number" step="0.01" class="form-control" id="image-scale-x"
                                        placeholder="scale x">
                                </div>
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">y</div>
                                    </div>
                                    <input type="number" step="0.01" class="form-control" id="image-scale-y"
                                        placeholder="scale y">
                                </div>

                            </div>

                        </div>
                    </div>

                    <div id="component-text" class="overflow-auto d-none "
                        style="height:50vh;overflow-x: hidden  !important;">


                        <div class="d-flex flex-column">
                            <div class="form-group ">
                                <label for="">Name: </label>
                                <input type="text" name="" id="text-name" class="form-control">
                            </div>


                            <div class="form-group ">
                                <label for="">Position: </label>

                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">X</div>
                                    </div>
                                    <input type="number" class="form-control" id="text-position-x" placeholder="x">
                                </div>
                                <div class="input-group mb-2">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">Y</div>
                                    </div>
                                    <input type="number" class="form-control" id="text-position-y" placeholder="y">
                                </div>

                            </div>

                            <div class="form-group">
                                <label for="">Text : </label>
                                <textarea name="" id="text-input" cols="20" rows="3" class="form-control"></textarea>

                            </div>
                            <div class="form-group row">
                                <label for="" class="col-6">Font Size: </label>
                                <input type="number" name="" class="form-control col-4" id="text-font-size">


                            </div>
                            <div class="form-group">
                                <label for="">Font Family: </label>
                                <select class="form-control" id="text-font-family">
                                    <option value="arial">Arial</option>
                                    <option value="helvetica" selected>Helvetica</option>
                                    <option value="myriad pro">Myriad Pro</option>
                                    <option value="delicious">Delicious</option>
                                    <option value="verdana">Verdana</option>
                                    <option value="georgia">Georgia</option>
                                    <option value="courier">Courier</option>
                                    <option value="comic sans ms">Comic Sans MS</option>
                                    <option value="impact">Impact</option>
                                    <option value="monaco">Monaco</option>
                                    <option value="optima">Optima</option>
                                    <option value="hoefler text">Hoefler Text</option>
                                    <option value="plaster">Plaster</option>
                                    <option value="engagement">Engagement</option>
                                    <option value="Times New Roman">Times New Roman</option>

                                </select>

                            </div>
                            <div class="form-group">
                                <label for="">Text Align</label>
                                <select class="form-control" id="text-align">
                                    <option value="left">Left</option>
                                    <option value="center">Center</option>
                                    <option value="right">Right</option>
                                    <option value="justify">Justify</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type='checkbox' name='text-font-type' id="text-cmd-bold">
                                Bold

                                <input type='checkbox' name='text-font-type' id="text-cmd-italic">
                                Italic

                                <input type='checkbox' name='text-font-type' id="text-cmd-underline">
                                Underline

                            </div>
                        </div>


                    </div>
                </div>

            </div>

        </div>
    </div>
    <script>
    </script>
</body>
<script>
    let oldData = '{"parent":{"left":-321.5,"top":-628.5,"fill":"rgba(0,0,0,0)","selectable":false,"stroke":"rgba(0,0,0,1)","strokeWidth":3,"originalHeight":3508,"originalWidth":2480,"height":1754,"width":1240,"angle":0,"data":{"type":"rect","version":"4.5.1","originX":"left","originY":"top","left":-321.5,"top":-628.5,"width":1240,"height":1754,"fill":"rgba(0,0,0,0)","stroke":"rgba(0,0,0,1)","strokeWidth":3,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"rx":0,"ry":0}},"background":{"left":-321.5,"top":-628.5,"scaleX":0.32978723404255317,"scaleY":0.3109929078014184,"selectable":false,"data":{"type":"image","version":"4.5.1","originX":"left","originY":"top","left":-321.5,"top":-628.5,"width":3760,"height":5640,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":0.33,"scaleY":0.31,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"http://localhost/project/EditDecra/assets/image/imageA4.jpg","crossOrigin":null,"filters":[]}},"child":[{"type":"i-text","left":301.4947690313438,"top":4.51181836603979,"id":"text-0-qlx76ow6z","selectable":true,"name":"text 0","data":{"type":"i-text","version":"4.5.1","originX":"left","originY":"top","left":301.49,"top":4.51,"width":275.59,"height":45.2,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":3.32,"scaleY":3.32,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"text":"input text here","fontSize":40,"fontWeight":"bold","fontFamily":"arial","fontStyle":"italic","lineHeight":1.16,"underline":true,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"path":null,"direction":"ltr","styles":{}}},{"type":"i-text","left":564.214285714286,"top":-599.9285714285714,"id":"text-1-drxn3nf19","selectable":true,"name":"text 1","data":{"type":"i-text","version":"4.5.1","originX":"left","originY":"top","left":564.21,"top":-599.93,"width":283.02,"height":55.37,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"text":"input text here","fontSize":49,"fontWeight":"normal","fontFamily":"Times New Roman","fontStyle":"normal","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"path":null,"direction":"ltr","styles":{}}},{"type":"image","left":57.07142857142844,"top":-314.21428571428555,"id":"image-2-mgojxccqz","selectable":true,"name":"image 2","data":{"type":"image","version":"4.5.1","originX":"left","originY":"top","left":57.07,"top":-314.21,"width":172,"height":178,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"http://localhost/project/EditDecra/assets/image/Example.png","crossOrigin":null,"filters":[]}},{"type":"i-text","left":-228.6428571428571,"top":-371.3571428571429,"id":"text-3-ufm9u55xc","selectable":true,"name":"text 3","data":{"type":"i-text","version":"4.5.1","originX":"left","originY":"top","left":-228.64,"top":-371.36,"width":253.5,"height":45.2,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"text":"input text here","fontSize":40,"fontWeight":"normal","fontFamily":"arial","fontStyle":"italic","lineHeight":1.16,"underline":false,"overline":false,"linethrough":false,"textAlign":"left","textBackgroundColor":"","charSpacing":0,"path":null,"direction":"ltr","styles":{}}},{"type":"image","left":464.2142857142853,"top":-493.62451530612293,"id":"image-4-pcgpnh9az","selectable":true,"name":"logo 1","data":{"type":"image","version":"4.5.1","originX":"left","originY":"top","left":464.21,"top":-493.62,"width":172,"height":178,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeDashOffset":0,"strokeLineJoin":"miter","strokeUniform":false,"strokeMiterLimit":4,"scaleX":1.93,"scaleY":1.93,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"cropX":0,"cropY":0,"src":"http://localhost/project/EditDecra/assets/image/Example.png","crossOrigin":null,"filters":[]}}]}';
    let dataJson = JSON.parse(oldData);

    var editor = new Editor('editor-canvas');
    editor.setBackgroundElement('background-image');
    editor.setBackgroundById('background-image');
    editor.setInspektorElement('child-object');
    editor.setNewTextElement('add-text');
    editor.setNewImageElement('add-image-barcode', './assets/image/Example.png');
    editor.setElementImageComponent('image-name', 'component-image', 'image-position-x',
        'image-position-y', 'image-scale-x', 'image-scale-y')
    editor.setElementTextComponent('text-input', 'text-name',
        'component-text', 'text-position-x', 'text-position-y',
        'text-font-size', 'text-font-family', 'text-align',
        'text-cmd-bold', 'text-cmd-italic', 'text-cmd-underline')
    editor.setDownloadElement('download');
    editor.setSaveElement('save', function (data) {
        console.log(data);
    });

    editor.load(dataJson);

    var dataCanvas = null;
    // var doc = new jsPDF()

    // doc.text('Hello world!', 10, 10)
    // doc.save('a4.pdf')
    // var elChild = document.getElementById('child-object');
    // elChild.innerHTML = "";

    // var currentActiveObject = null;
    // var componentImage = {
    //     type: "image",
    //     parentComponent: document.getElementById('component-image'),
    //     position: {
    //         elX: document.getElementById('image-position-x'),
    //         elY: document.getElementById('image-position-y'),text-scale-y'
    //     },
    //     elName: document.getElementById('image-name'),
    //     scale: {
    //         elX: document.getElementById('image-scale-x'),
    //         elY: document.getElementById('image-scale-y'),
    //     }

    // }
    // var componentText = {
    //     type: "i-text",
    //     parentComponent: document.getElementById('component-text'),
    //     elName: document.getElementById('text-name'),
    //     position: {
    //         elX: document.getElementById('text-position-x'),
    //         elY: document.getElementById('text-position-y')
    //     },
    //     elInput: document.getElementById('text-input'),
    //     elFontSize: document.getElementById('text-font-size'),
    //     elFontFamily: document.getElementById('text-font-family'),
    //     elAlign: document.getElementById('text-align'),
    //     elBold: document.getElementById('text-cmd-bold'),
    //     elItalic: document.getElementById('text-cmd-italic'),
    //     elUnderline: document.getElementById('text-cmd-underline'),
    // }

    // var canvas = new fabric.Canvas('editor-canvas');
    // var background = null;
    // var parent = null;
    // var childObject = [];
    // var elSave = document.getElementById('save');
    // elSave.onclick = function () {
    //     editor.save();

    // };

    // var elDownload = document.getElementById('download');
    // elDownload.onclick = function () {
    //     console.log(parent.stroke);
    //     parent.stroke = 'rgba(0,255,0,0)';
    //     parent.set({ dirty: true });
    //     let tempZoom = canvas.getZoom();
    //     canvas.zoomToPoint({ x: 300, y: 250 }, 1);
    //     canvas.renderAll();
    //     var imgData = canvas.toDataURL({
    //         left: parent.left,
    //         top: parent.top,
    //         width: parent.width,
    //         height: parent.height,
    //     }
    //     );
    //     var doc = new jsPDF('p', 'mm', 'a4');
    //     var width = doc.internal.pageSize.getWidth();
    //     var height = doc.internal.pageSize.getHeight();
    //     doc.addImage(imgData, 'PNG', 0, 0, width, height);
    //     doc.save('sample-file.pdf');
    //     canvas.zoomToPoint({ x: 300, y: 250 }, tempZoom);
    // }


    // var elBackground = document.getElementById('background-image');

    // elBackground.onchange = function () {
    //     addBackground(this.value);
    // }
    // addBackground(elBackground.value);

    // var elAddText = document.getElementById('add-text');
    // elAddText.onclick = function () {
    //     addText(childObject.length);
    // }
    // var elAddImage = document.getElementById('add-image-barcode');
    // elAddImage.onclick = function () {
    //     addImage(childObject.length, './assets/image/Example.png');
    // }

    // addParent()
    // addBackground();
    // generateChildObject();
    // function addText(idx) {

    //     var text = new fabric.IText('input text here', {
    //         left: parent.left,
    //         top: parent.top,
    //         id: generateId("text-" + idx)
    //     });
    //     text.name = "text " + idx;
    //     childObject.push(text);
    //     canvas.add(text);
    // }
    // function addImage(idx, path) {
    //     fabric.Image.fromURL(path, function (oImg) {
    //         oImg.left = parent.left;
    //         oImg.top = parent.top;
    //         oImg.name = "image " + idx;
    //         oImg.id = generateId("image-" + idx)
    //         childObject.push(oImg);
    //         canvas.add(oImg);
    //     });
    //     // var image = new fabric.Image.fromURL('./assets/image/ship.png', {
    //     //     left: 100,
    //     //     top: 110
    //     // });
    // }
    // function addParent() {
    //     var rect = new fabric.Rect({
    //         left: 300,
    //         top: 200,
    //         fill: 'rgba(0,0,0,0)',
    //         selectable: false,
    //         stroke: 'rgba(0,0,0,1)',
    //         strokeWidth: 3,
    //         height: 3508 / 2,
    //         width: 2480 / 2,
    //         angle: 0
    //     });
    //     parent = rect;
    //     console.log(parent.stroke);
    //     canvas.add(parent);
    //     canvas.centerObject(parent);
    // }

    // function addBackground(path) {
    //     if (background) {
    //         canvas.remove(background);
    //         background = null;
    //     }
    //     fabric.Image.fromURL(path, function (oImg) {
    //         oImg.left = parent.left;
    //         oImg.top = parent.top;
    //         oImg.scaleX = parent.width / oImg.width;
    //         oImg.scaleY = parent.height / oImg.height;
    //         oImg.selectable = false;
    //         background = oImg;
    //         canvas.add(oImg);
    //         canvas.sendToBack(oImg);
    //     });

    // }
    // function generateChildObject() {
    //     elChild.innerHTML = "";
    //     console.log(childObject.length);
    //     childObject.forEach((child, i) => {
    //         let isActive = false;
    //         if (currentActiveObject) {
    //             if (currentActiveObject.id == child.id) {
    //                 isActive = true;
    //             }

    //             console.log(currentActiveObject.id, ":", child.id, "=", isActive);
    //         }
    //         let activeClass = (!isActive) ? "d-none" : "";
    //         let activeColorClass = (!isActive) ? "btn-secondary" : "btn-success";
    //         let btnGroup = document.createElement("div");
    //         btnGroup.setAttribute("id", "child-object-" + child.id);
    //         btnGroup.setAttribute("class", "btn-group mb-2");
    //         let btnClick = document.createElement("button");
    //         btnClick.setAttribute("id", "child-object-click-" + child.id)
    //         btnClick.setAttribute("class", "btn " + activeColorClass)
    //         btnClick.setAttribute("data-id", child.id)
    //         btnClick.onclick = childClick;
    //         btnClick.appendChild(document.createTextNode(child.name));
    //         let btnClose = document.createElement("button");
    //         btnClose.setAttribute("id", "child-object-close-" + child.id);
    //         btnClose.setAttribute("data-id", child.id);
    //         btnClose.setAttribute("class", "btn btn-danger " + activeClass);
    //         btnClose.onclick = childCloseClick;

    //         btnClose.appendChild(document.createTextNode("x"));

    //         btnGroup.appendChild(btnClick)
    //         btnGroup.appendChild(btnClose)
    //         elChild.appendChild(btnGroup);
    //     });
    // }
    // function generateId(type) {
    //     return `${type}-${Math.random().toString(36).substr(2, 9)}`;
    // }
    // //image component event
    // function updateObjectToImageComponent(Object) {
    //     componentImage.elName.value = Object.name;
    //     componentImage.position.elX.value = Object.left - parent.left;
    //     componentImage.position.elY.value = Object.top - parent.top;
    //     componentImage.scale.elX.value = Object.scaleX;
    //     componentImage.scale.elY.value = Object.scaleY;
    //     console.log(Object.scaleX);
    // }

    // componentImage.elName.oninput = function (e) {
    //     //e.target.value to get value change 
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentImage.type) {
    //             currentActiveObject.name = e.target.value;

    //         }
    //     }
    // }
    // componentImage.position.elX.onchange = function (e) {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentImage.type) {
    //             currentActiveObject.left = parent.left + Number(e.target.value)
    //             canvas.renderAll();
    //         }
    //     }

    // }
    // componentImage.position.elY.onchange = function (e) {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentImage.type) {
    //             currentActiveObject.top = parent.top + Number(e.target.value)
    //             canvas.renderAll();
    //         }
    //     }
    // }

    // componentImage.scale.elX.onchange = function (e) {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type = componentImage.type) {
    //             currentActiveObject.scaleX = Number(e.target.value);
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentImage.scale.elY.onchange = function (e) {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentImage.type) {
    //             currentActiveObject.scaleY = Number(e.target.value);
    //             canvas.renderAll();
    //         }
    //     }
    // }


    // //end image componetn event 
    // //start text component event
    // function updateObjectToTextComponent(Object) {
    //     componentText.elName.value = Object.name;
    //     componentText.position.elX.value = Object.left - parent.left;
    //     componentText.position.elY.value = Object.top - parent.top;
    //     componentText.elInput.value = Object.text;
    //     componentText.elFontSize.value = Object.fontSize;
    //     componentText.elFontFamily.value = Object.fontFamily;
    //     componentText.elAlign.value = Object.textAlign;
    //     console.log(Object.underline)
    //     if (Object.fontWeight == "bold") {
    //         componentText.elBold.checked = true;
    //     } else {
    //         componentText.elBold.checked = false;

    //     }
    //     if (Object.fontStyle == "italic") {
    //         componentText.elItalic.checked = true;
    //     } else {
    //         componentText.elItalic.checked = false;

    //     }
    //     if (Object.underline) {
    //         componentText.elUnderline.checked = true;
    //     } else {
    //         componentText.elUnderline.checked = false;
    //     }



    // }
    // componentText.elName.oninput = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.name = this.value;
    //             let bntChildObject = document.getElementById("child-object-click-" + currentActiveObject.id)
    //             bntChildObject.innerHTML = this.value
    //             canvas.renderAll();

    //         }
    //     }
    // }
    // componentText.position.elX.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.left = parent.left + Number(this.value);
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.position.elY.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.top = parent.top + Number(this.value);
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.elInput.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.text = this.value;
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.elFontSize.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.fontSize = Number(this.value);
    //             canvas.renderAll();
    //         }
    //     }
    // }

    // componentText.elFontFamily.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.fontFamily = this.value;
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.elAlign.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.textAlign = this.value;
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.elBold.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.fontWeight = this.checked ? "bold" : "normal";
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.elItalic.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.fontStyle = this.checked ? "italic" : "normal";
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // componentText.elUnderline.onchange = function () {
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentText.type) {
    //             currentActiveObject.underline = this.checked;
    //             currentActiveObject.set({ dirty: true });
    //             canvas.renderAll();
    //         }
    //     }
    // }
    // //end text componetn event

    // function checkObject() {
    //     currentActiveObject = canvas.getActiveObject();
    //     if (currentActiveObject) {
    //         if (currentActiveObject.type == componentImage.type) {
    //             componentImage.parentComponent.classList.remove('d-none');
    //             componentText.parentComponent.classList.add('d-none');
    //             updateObjectToImageComponent(currentActiveObject)
    //         } else if (currentActiveObject.type == componentText.type) {
    //             componentImage.parentComponent.classList.add('d-none');
    //             componentText.parentComponent.classList.remove('d-none');
    //             updateObjectToTextComponent(currentActiveObject);
    //         }

    //     }


    // }
    // function childClick(e) {
    //     let dataID = e.target.dataset.id;
    //     activeChildObject(dataID);
    //     generateChildObject();
    // }
    // function childCloseClick(e) {
    //     let dataID = e.target.dataset.id;
    //     removeChildObject(dataID);

    // }
    // function findChildObject(id) {
    //     return childObject.find(c => c.id == id);
    // }

    // function removeChildObject(id) {
    //     let ch = findChildObject(id);
    //     if (ch) {
    //         let index = childObject.indexOf(ch);
    //         if (index > -1) {
    //             childObject.splice(index, 1);
    //             canvas.remove(ch);
    //         }

    //     }
    // }
    // function activeChildObject(id) {
    //     let ch = findChildObject(id)
    //     if (ch) {
    //         currentActiveObject = ch;
    //         canvas.discardActiveObject();
    //         canvas.setActiveObject(ch);
    //         canvas.requestRenderAll();
    //     }
    // }
    // canvas.on('mouse:wheel', function (opt) {
    //     var delta = opt.e.deltaY;
    //     var zoom = canvas.getZoom();
    //     zoom *= 0.999 ** delta;
    //     if (zoom > 20) zoom = 20;
    //     if (zoom < 0.01) zoom = 0.01;
    //     canvas.zoomToPoint({ x: 300, y: 250 }, zoom);
    //     opt.e.preventDefault();
    //     opt.e.stopPropagation();
    // });
    // canvas.on('mouse:down', function () {
    //     checkObject();
    //     generateChildObject();
    // });
    // canvas.on('object:moving', function () {
    //     checkObject();
    // })
    // canvas.on('object:scaling', function () {
    //     checkObject()
    // });

    // canvas.on('text:changed', function () {
    //     checkObject();
    // })
    // canvas.on("object:added", function () {
    //     generateChildObject()
    // })
    // canvas.on("object:removed", function () {
    //     generateChildObject()
    // })


</script>

</html>